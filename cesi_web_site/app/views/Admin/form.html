#{extends 'admin.html' /}
 
#{ifnot post?.id}
    <h3>&{'form.post.write'}</h3>
#{/ifnot}
#{else}
    <h3>&{'form.post.edit'}</h3>
#{/else}

#{form @save(post?.id), method:'POST', enctype:'multipart/form-data'}
 
    #{ifErrors}
        <p class="error">
            &{'form.error.correct'}
        </p>
    #{/ifErrors}
     
    <p>
        #{field 'title'}
        <label>&{'form.post.title'}</label>
        <input type="text" name="${field.name}" 
           value="${post?.title}" />
        <span class="error">#{error 'post.title'/}</span>
        #{/field}
    </p>
 
    <p>
        #{field 'content'}
        <label>&{'form.write'}</label>
        <textarea name="${field.name}">
          ${post?.content}
        </textarea>
        <span class="error">#{error 'post.content'/}</span>
        #{/field}
    </p>
	
 
    <p>
        #{field 'tags'}
        <label>&{'form.tag.write'}</label>
        <input type="text" size="50" 
            name="${field.name}" value="${post?.tags?.join(' ')}" />
        #{/field}
    </p>
	
    <p>
        #{field 'fichier'}
        <label>&{'form.file.choose'}</label>
        <input type="file" name="${field.name}" />
        ${post?.files?.join(' ')}
        <span class="error">#{error 'post.fichier'/}</span>
        #{/field}
    </p>
    
    <p>
        <input type="submit" value="&{'form.post.publish'}" />
    </p>
    
#{/form}
